(()=>{var e={};e.id=662,e.ids=[662],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},5607:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=t(260),a=t(8203),i=t(5155),l=t.n(i),n=t(7292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5562)),"C:\\Users\\Pc\\Desktop\\MissionPro.app\\client\\app\\settings\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,9611)),"C:\\Users\\Pc\\Desktop\\MissionPro.app\\client\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\Pc\\Desktop\\MissionPro.app\\client\\app\\settings\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3652:(e,s,t)=>{Promise.resolve().then(t.bind(t,5562))},5092:(e,s,t)=>{Promise.resolve().then(t.bind(t,3136))},6632:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>n,wL:()=>p});var r=t(5512),a=t(8009),i=t(9462);let l=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));l.displayName="Card";let n=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let o=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle";let d=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let p=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s}));p.displayName="CardFooter"},417:(e,s,t)=>{"use strict";t.d(s,{p:()=>l});var r=t(5512),a=t(8009),i=t(9462);let l=a.forwardRef(({className:e,type:s,...t},a)=>(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));l.displayName="Input"},979:(e,s,t)=>{"use strict";t.d(s,{J:()=>d});var r=t(5512),a=t(8009),i=t(2405),l=t(2101),n=t(9462);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(i.b,{ref:t,className:(0,n.cn)(o(),e),...s}));d.displayName=i.b.displayName},3136:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var r=t(5512),a=t(5582),i=t(5779),l=t(9334),n=t(8009),o=t(5668),d=t(2403),c=t(5103),p=t(205),u=t(417),x=t(979),m=t(9462);let f=n.forwardRef(({className:e,...s},t)=>(0,r.jsx)("textarea",{className:(0,m.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));f.displayName="Textarea";var h=t(6632),g=t(3287),v=t(2901),y=t(8866),j=t(1680);let b=(0,j.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var N=t(7798),k=t(1075);let w=(0,j.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),P=(0,j.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),A=function(){let{isAuthenticated:e,loading:s,userProfile:t,getUserProfile:m,updateUserProfile:j}=(0,i.S)(),A=(0,l.useRouter)(),[C,M]=(0,n.useState)({name:t?.name||"",bio:t?.bio||"",profession:t?.profession||"",resume:t?.resume||"",phone:t?.phone||""}),[z,q]=(0,n.useState)(!1),[R,D]=(0,n.useState)(!1),[_,F]=(0,n.useState)(null),T=e=>{let{name:s,value:t}=e.target;M(e=>({...e,[s]:t}))},V=async()=>{if(_)try{D(!0);let e=new FormData;e.append("cv",_);let s=await o.A.post("/api/v1/user/upload-cv",e,{headers:{"Content-Type":"multipart/form-data"}});M(e=>({...e,resume:s.data.cvPath})),t.auth0Id&&await m(t.auth0Id),d.Ay.success("CV uploaded successfully!"),F(null)}catch(e){console.error("Error uploading CV:",e),d.Ay.error("Failed to upload CV")}finally{D(!1)}},B=async e=>{e.preventDefault();try{q(!0),await j(C),d.Ay.success("Profile updated successfully!")}catch(e){console.error("Error updating profile:",e),d.Ay.error("Failed to update profile")}finally{q(!1)}};return s?(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(a.A,{}),(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"text-lg",children:"Loading..."})})]}):e?(0,r.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[(0,r.jsx)(a.A,{}),(0,r.jsxs)("div",{className:"flex-1 pt-8 w-[90%] max-w-4xl mx-auto",children:[(0,r.jsx)("div",{className:"flex items-center gap-4 mb-6",children:(0,r.jsxs)(p.$,{variant:"ghost",size:"sm",onClick:()=>A.back(),className:"flex items-center gap-2",children:[(0,r.jsx)(g.A,{size:16}),"Retour"]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)(h.Zp,{className:"md:col-span-1",children:[(0,r.jsxs)(h.aR,{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto mb-4",children:(0,r.jsx)(c.default,{src:t.profilePicture||"/user.png",alt:t.name||"User",width:100,height:100,className:"rounded-full mx-auto"})}),(0,r.jsx)(h.ZB,{className:"text-xl",children:t.name}),(0,r.jsx)(h.BT,{children:t.email})]}),(0,r.jsx)(h.Wu,{children:(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(v.A,{size:14,className:"text-gray-500"}),(0,r.jsx)("span",{children:t.profession||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(y.A,{size:14,className:"text-gray-500"}),(0,r.jsx)("span",{children:t.email})]}),t.phone&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(b,{size:14,className:"text-gray-500"}),(0,r.jsx)("span",{children:t.phone})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(N.A,{size:14,className:"text-gray-500"}),(0,r.jsxs)("span",{children:["Membre depuis ",new Date(t.createdAt).getFullYear()]})]})]})})]}),(0,r.jsxs)(h.Zp,{className:"md:col-span-2",children:[(0,r.jsxs)(h.aR,{children:[(0,r.jsx)(h.ZB,{children:"Param\xe8tres du Profil"}),(0,r.jsx)(h.BT,{children:"Mettez \xe0 jour vos informations de profil et pr\xe9f\xe9rences"})]}),(0,r.jsx)(h.Wu,{children:(0,r.jsxs)("form",{onSubmit:B,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x.J,{htmlFor:"name",children:"Nom Complet"}),(0,r.jsx)(u.p,{id:"name",name:"name",type:"text",value:C.name||"",onChange:T,placeholder:"Entrez votre nom complet",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x.J,{htmlFor:"profession",children:"Profession"}),(0,r.jsx)(u.p,{id:"profession",name:"profession",type:"text",value:C.profession||"",onChange:T,placeholder:"ex: D\xe9veloppeur Logiciel, Designer, etc."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x.J,{htmlFor:"phone",children:"Num\xe9ro de T\xe9l\xe9phone"}),(0,r.jsx)(u.p,{id:"phone",name:"phone",type:"tel",value:C.phone||"",onChange:T,placeholder:"+1 (555) 123-4567"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x.J,{htmlFor:"bio",children:"Bio"}),(0,r.jsx)(f,{id:"bio",name:"bio",value:C.bio||"",onChange:T,placeholder:"Parlez-nous de vous...",rows:4,className:"resize-none"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Ceci sera visible aux employeurs lorsque vous postulez pour des emplois."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x.J,{children:"CV/Resume"}),C.resume&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-md",children:[(0,r.jsx)(k.A,{size:16,className:"text-blue-600"}),(0,r.jsx)("span",{className:"text-sm text-gray-700 flex-1",children:C.resume.includes("/uploads/")?"CV T\xe9l\xe9charg\xe9":"Lien CV Externe"}),(0,r.jsx)(p.$,{type:"button",variant:"outline",size:"sm",onClick:()=>window.open(C.resume.startsWith("http")?C.resume:`https://missionpro-app-4qaf.onrender.com${C.resume}`,"_blank"),children:"Voir"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.p,{type:"file",accept:".pdf",onChange:e=>{let s=e.target.files?.[0];if(s){if("application/pdf"!==s.type){d.Ay.error("Please select a PDF file");return}if(s.size>5242880){d.Ay.error("File size must be less than 5MB");return}F(s)}},className:"flex-1"}),(0,r.jsxs)(p.$,{type:"button",variant:"outline",onClick:V,disabled:!_||R,className:"flex items-center gap-2",children:[(0,r.jsx)(w,{size:14}),R?"T\xe9l\xe9chargement...":"T\xe9l\xe9charger"]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"T\xe9l\xe9chargez un fichier PDF (max 5MB) ou gardez votre lien CV existant."})]}),(0,r.jsx)("div",{className:"flex justify-end pt-4",children:(0,r.jsxs)(p.$,{type:"submit",disabled:z,className:"flex items-center gap-2",children:[(0,r.jsx)(P,{size:16}),z?"Sauvegarde...":"Sauvegarder les Modifications"]})})]})})]})]})]})]}):null}},3287:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2901:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},1075:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},8866:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},7798:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5562:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Pc\\\\Desktop\\\\MissionPro.app\\\\client\\\\app\\\\settings\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Pc\\Desktop\\MissionPro.app\\client\\app\\settings\\page.tsx","default")},2405:(e,s,t)=>{"use strict";t.d(s,{b:()=>n});var r=t(8009),a=t(830),i=t(5512),l=r.forwardRef((e,s)=>(0,i.jsx)(a.sG.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var n=l}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[989,500,4,161,358],()=>t(5607));module.exports=r})();