(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[976],{3093:(e,s,t)=>{Promise.resolve().then(t.bind(t,7746))},6397:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(5155);t(2115);var l=t(6036);let r=function(){let{t:e}=(0,l.o)();return(0,a.jsx)("footer",{className:"py-12 bg-white",children:(0,a.jsx)("div",{className:"mx-auto px-4 text-center text-black",children:(0,a.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," MissionPro. ",e("footer.rights"),"."]})})})}},1850:(e,s,t)=>{"use strict";t.d(s,{A:()=>h});var a=t(5155),l=t(4267),r=t(9810),i=t(2423),n=t(5565),c=t(6046),o=t(2115),d=t(8674),p=t(3114),u=t(6847),x=t(959);let h=function(e){let{job:s,activeJob:t}=e,{likeJob:h}=(0,r.x)(),{userProfile:f,isAuthenticated:m}=(0,l.S)(),[g,j]=o.useState(!1),{title:b,description:y,salaryType:v,salary:N,createdBy:w,applicants:A,jobType:_,createdAt:k}=s,{name:C,profilePicture:E}=w,S=(0,c.useRouter)(),P=e=>{j(e=>!e),h(e)};(0,o.useEffect)(()=>{j(s.likes.includes(f._id))},[s.likes,f._id]);let M=y?y.replace(/<\/?[^>]+(>|$)/g,""):"",V=e=>{switch(e){case"Full Time":return"bg-green-500/20 text-green-600";case"Part Time":return"bg-purple-500/20 text-purple-600";case"Contract":return"bg-red-500/20 text-red-600";case"Internship":return"bg-indigo-500/20 text-indigo-600";default:return"bg-gray-500/20 text-gray-600"}};return(0,a.jsxs)("div",{className:"p-8 rounded-xl flex flex-col gap-5\n    ".concat(t?"bg-gray-50 shadow-md border-b-2 border-[#7263f3]":"bg-white"),children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"group flex gap-1 items-center cursor-pointer",onClick:()=>S.push("/job/".concat(s._id)),children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-md flex items-center justify-center",children:(0,a.jsx)(n.default,{src:E||"/user.png",alt:C||"User",width:40,height:40,className:"rounded-md"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h4",{className:"group-hover:underline font-bold",children:b}),(0,a.jsxs)("p",{className:"text-xs",children:[C,": ",A.length," ",A.length>1?"Candidats":"Candidat"]})]})]}),(0,a.jsx)("button",{className:"text-2xl ".concat(g?"text-[#7263f3]":"text-gray-400"," "),onClick:()=>{m?P(s._id):S.push("https://missionpro-app-4qaf.onrender.com/login")},children:g?x.Fc:x.qX})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:_.map((e,s)=>(0,a.jsx)("span",{className:"py-1 px-3 text-xs font-medium rounded-md border ".concat(V(e)),children:e},s))}),(0,a.jsx)("p",{children:M.length>100?"".concat(M.substring(0,100),"..."):M}),(0,a.jsx)(d.w,{}),(0,a.jsxs)("div",{className:"flex justify-between items-center gap-6",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-bold",children:(0,p.A)(N,"GBP")}),(0,a.jsxs)("span",{className:"font-medium text-gray-400 text-lg",children:["/","Yearly"===v?"pa":"Monthly"===v?"pcm":"Weekly"===v?"pw":"ph"]})]}),(0,a.jsxs)("p",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,a.jsx)("span",{className:"text-lg",children:(0,a.jsx)(i.A,{size:16})}),"Publi\xe9: ",(0,u.H)(k)]})]})]})}},8674:(e,s,t)=>{"use strict";t.d(s,{w:()=>n});var a=t(5155),l=t(2115),r=t(434),i=t(9602);let n=l.forwardRef((e,s)=>{let{className:t,orientation:l="horizontal",decorative:n=!0,...c}=e;return(0,a.jsx)(r.b,{ref:s,decorative:n,orientation:l,className:(0,i.cn)("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",t),...c})});n.displayName=r.b.displayName},7746:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(5155),l=t(6397),r=t(8957),i=t(1850),n=t(4267),c=t(9810),o=t(3114),d=t(6847),p=t(5565),u=t(6046),x=t(2115),h=t(5037),f=t(959);let m=function(){let{jobs:e,likeJob:s,applyToJob:t}=(0,c.x)(),{userProfile:m,isAuthenticated:g}=(0,n.S)(),j=(0,u.useParams)(),b=(0,u.useRouter)(),{id:y}=j,[v,N]=x.useState(!1),[w,A]=x.useState(!1),_=e.find(e=>e._id===y),k=e.filter(e=>e._id!==y);if((0,x.useEffect)(()=>{_&&A(_.applicants.includes(m._id))},[_,m._id]),(0,x.useEffect)(()=>{_&&N(_.likes.includes(m._id))},[_,m._id]),!_)return null;let{title:C,location:E,description:S,salary:P,createdBy:M,applicants:V,jobType:R,createdAt:q,salaryType:F,negotiable:I}=_,{name:O,profilePicture:J}=M,T=e=>{N(e=>!e),s(e)};return(0,a.jsxs)("main",{children:[(0,a.jsx)(r.A,{}),(0,a.jsxs)("div",{className:"p-8 mb-8 mx-auto w-[90%] rounded-md flex gap-8",children:[(0,a.jsxs)("div",{className:"w-[26%] flex flex-col gap-8",children:[(0,a.jsx)(i.A,{activeJob:!0,job:_}),k.map(e=>(0,a.jsx)(i.A,{job:e},e._id))]}),(0,a.jsxs)("div",{className:"flex-1 bg-white p-6 rounded-md",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-14 h-14 relative overflow-hidden rounded-md flex items-center justify-center bg-gray-200",children:(0,a.jsx)(p.default,{src:J||"/user.png",alt:O||"User",width:45,height:45,className:"rounded-md"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:O}),(0,a.jsx)("p",{className:"text-sm",children:"Recruiter"})]})]}),(0,a.jsx)("button",{className:"text-2xl  ".concat(v?"text-[#7263f3]":"text-gray-400"),onClick:()=>{g?T(_._id):b.push("https://missionpro-app-4qaf.onrender.com/login")},children:v?f.Fc:f.qX})]}),(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:C}),(0,a.jsx)("div",{className:"flex gap-4 items-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:E})}),(0,a.jsxs)("div",{className:"mt-2 flex gap-4 justify-between items-center",children:[(0,a.jsxs)("p",{className:"flex-1 py-2 px-4 flex flex-col items-center justify-center gap-1 bg-green-500/20 rounded-xl",children:[(0,a.jsx)("span",{className:"text-sm",children:"Salaire"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"font-bold",children:(0,o.A)(P,"GBP")}),(0,a.jsxs)("span",{className:"font-medium text-gray-500 text-lg",children:["/",F?"".concat("Yearly"===F?"pa":"Monthly"===F?"pcm":"Weekly"===F?"pw":"ph"):""]})]})]}),(0,a.jsxs)("p",{className:"flex-1 py-2 px-4 flex flex-col items-center justify-center gap-1 bg-purple-500/20 rounded-xl",children:[(0,a.jsx)("span",{className:"text-sm",children:"Publi\xe9"}),(0,a.jsx)("span",{className:"font-bold",children:(0,d.H)(q)})]}),(0,a.jsxs)("p",{className:"flex-1 py-2 px-4 flex flex-col items-center justify-center gap-1 bg-blue-500/20 rounded-xl",children:[(0,a.jsx)("span",{className:"text-sm",children:"Candidats"}),(0,a.jsx)("span",{className:"font-bold",children:V.length})]}),(0,a.jsxs)("p",{className:"flex-1 py-2 px-4 flex flex-col items-center justify-center gap-1 bg-yellow-500/20 rounded-xl",children:[(0,a.jsx)("span",{className:"text-sm",children:"Type d'Emploi"}),(0,a.jsx)("span",{className:"font-bold",children:R[0]})]})]}),(0,a.jsx)("h2",{className:"font-bold text-2xl mt-2",children:"Description de l'Emploi"})]}),(0,a.jsx)("div",{className:"wysiwyg mt-2",dangerouslySetInnerHTML:{__html:S}})]}),(0,a.jsxs)("div",{className:"w-[26%] flex flex-col gap-8",children:[(0,a.jsx)("button",{className:"text-white py-4 rounded-full hover:bg-[#7263f3]/90 hover:text-white ".concat(w?"bg-green-500":"bg-[#7263f3]"),onClick:()=>{g?w?h.Ay.error("Vous avez d\xe9j\xe0 postul\xe9 \xe0 cet emploi"):(t(_._id),A(!0)):b.push("https://missionpro-app-4qaf.onrender.com/login")},children:w?"Candidature Envoy\xe9e":"Postuler Maintenant"}),(0,a.jsxs)("div",{className:"p-6 flex flex-col gap-2 bg-white rounded-md",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Autres Informations"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-bold",children:"Publi\xe9:"})," ",(0,d.H)(q)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-bold",children:"Salaire n\xe9gociable: "}),(0,a.jsx)("span",{className:"".concat(I?"text-green-500":"text-red-500"),children:I?"Oui":"Non"})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-bold",children:"Localisation:"})," ",E]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-bold",children:"Type d'Emploi:"})," ",R[0]]})]})]}),(0,a.jsxs)("div",{className:"p-6 flex flex-col gap-2 bg-white rounded-md",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"\xc9tiquettes"}),(0,a.jsx)("p",{children:"Autres \xe9tiquettes pertinentes pour le poste."}),(0,a.jsx)("div",{className:"flex flex-wrap gap-4",children:_.tags.map((e,s)=>(0,a.jsx)("span",{className:"px-4 py-1 rounded-full text-sm font-medium flex items-center bg-red-500/20 text-red-600",children:e},s))})]}),(0,a.jsxs)("div",{className:"p-6 flex flex-col gap-2 bg-white rounded-md",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Comp\xe9tences"}),(0,a.jsx)("p",{children:"Il s'agit d'un poste \xe0 temps plein. Le candidat retenu sera responsable des \xe9l\xe9ments suivants:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-4",children:_.tags.map((e,s)=>(0,a.jsx)("span",{className:"px-4 py-1 rounded-full text-sm font-medium flex items-center bg-indigo-500/20 text-[#7263f3]",children:e},s))})]})]})]}),(0,a.jsx)(l.A,{})]})}},9810:(e,s,t)=>{"use strict";t.d(s,{P:()=>d,x:()=>p});var a=t(5155),l=t(2115),r=t(4267),i=t(2651),n=t(5037),c=t(6046);let o=(0,l.createContext)();i.A.defaults.baseURL="https://missionpro-app-4qaf.onrender.com",i.A.defaults.withCredentials=!0;let d=e=>{let{children:s}=e,{userProfile:t,getUserProfile:d}=(0,r.S)(),p=(0,c.useRouter)(),[u,x]=(0,l.useState)([]),[h,f]=(0,l.useState)(!1),[m,g]=(0,l.useState)([]),[j,b]=(0,l.useState)({tags:"",location:"",title:""}),[y,v]=(0,l.useState)({fullTime:!1,partTime:!1,internship:!1,contract:!1,fullStack:!1,backend:!1,devOps:!1,uiux:!1}),[N,w]=(0,l.useState)(3e4),[A,_]=(0,l.useState)(12e4),k=async()=>{f(!0);try{let e=await i.A.get("/api/v1/jobs");x(e.data)}catch(e){console.log("Error getting jobs",e)}finally{f(!1)}},C=async e=>{try{let s=await i.A.post("/api/v1/jobs",e);n.Ay.success("Job created successfully"),x(e=>[s.data,...e]),t._id&&(g(e=>[s.data,...e]),await S(t._id)),await k(),p.push("/job/".concat(s.data._id))}catch(e){console.log("Error creating job",e)}},E=async(e,s)=>{try{let t=await i.A.put("/api/v1/jobs/".concat(e),s);return n.Ay.success("Job updated successfully"),x(s=>s.map(s=>s._id===e?t.data:s)),g(s=>s.map(s=>s._id===e?t.data:s)),await k(),t.data}catch(e){throw console.log("Error updating job",e),n.Ay.error("Failed to update job"),e}},S=async e=>{f(!0);try{let s=await i.A.get("/api/v1/jobs/user/"+e);g(s.data),f(!1)}catch(e){console.log("Error getting user jobs",e)}finally{f(!1)}},P=async(e,s,t)=>{f(!0);try{let a=new URLSearchParams;e&&a.append("tags",e),s&&a.append("location",s),t&&a.append("title",t);let l=await i.A.get("/api/v1/jobs/search?".concat(a.toString()));x(l.data),f(!1)}catch(e){console.log("Error searching jobs",e)}finally{f(!1)}},M=async e=>{f(!0);try{let s=await i.A.get("/api/v1/jobs/".concat(e));return f(!1),s.data}catch(e){console.log("Error getting job by id",e)}finally{f(!1)}},V=async e=>{console.log("Job liked",e);try{let s=await i.A.put("/api/v1/jobs/like/".concat(e));console.log("Job liked successfully",s),n.Ay.success("Job liked successfully"),k()}catch(e){console.log("Error liking job",e)}},R=async e=>{let s=u.find(s=>s._id===e);if(s&&s.applicants.includes(t._id)){n.Ay.error("You have already applied to this job");return}try{await i.A.put("/api/v1/jobs/apply/".concat(e)),n.Ay.success("Applied to job successfully"),k()}catch(e){console.log("Error applying to job",e),n.Ay.error(e.response.data.message)}},q=async e=>{try{await i.A.delete("/api/v1/jobs/".concat(e)),x(s=>s.filter(s=>s._id!==e)),g(s=>s.filter(s=>s._id!==e)),n.Ay.success("Job deleted successfully")}catch(e){console.log("Error deleting job",e)}};return(0,l.useEffect)(()=>{k()},[]),(0,l.useEffect)(()=>{t._id&&(S(t._id),d(t.auth0Id))},[t._id]),(0,a.jsx)(o.Provider,{value:{jobs:u,loading:h,createJob:C,updateJob:E,userJobs:m,searchJobs:P,getJobById:M,likeJob:V,applyToJob:R,deleteJob:q,handleSearchChange:(e,s)=>{b(t=>({...t,[e]:s}))},searchQuery:j,setSearchQuery:b,handleFilterChange:e=>{v(s=>({...s,[e]:!s[e]}))},filters:y,minSalary:N,setMinSalary:w,maxSalary:A,setMaxSalary:_,setFilters:v},children:s})},p=()=>(0,l.useContext)(o)},1361:function(e){var s;s=function(){function e(r,i){if(!(this instanceof e))return new e(r,i);var n=Math.pow(10,(i=Object.assign({},t,i)).precision);this.intValue=r=s(r,i),this.value=r/n,i.increment=i.increment||1/n,i.groups=i.useVedic?l:a,this.s=i,this.p=n}function s(s,t){var a=!(2<arguments.length)||void 0===arguments[2]||arguments[2],l=t.decimal,r=t.errorOnInvalid,i=t.fromCents,n=Math.pow(10,t.precision),c=s instanceof e;if(c&&i)return s.intValue;if("number"==typeof s||c)l=c?s.value:s;else if("string"==typeof s)r=RegExp("[^-\\d"+l+"]","g"),l=RegExp("\\"+l,"g"),l=(l=s.replace(/\((.*)\)/,"-$1").replace(r,"").replace(l,"."))||0;else{if(r)throw Error("Invalid Input");l=0}return i||(l=(l*n).toFixed(4)),a?Math.round(l):l}var t={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:function(e,s){var t=s.pattern,a=s.negativePattern,l=s.symbol,r=s.separator,i=s.decimal;s=s.groups;var n=(""+e).replace(/^-/,"").split("."),c=n[0];return n=n[1],(0<=e.value?t:a).replace("!",l).replace("#",c.replace(s,"$1"+r)+(n?i+n:""))},fromCents:!1},a=/(\d)(?=(\d{3})+\b)/g,l=/(\d)(?=(\d\d)+\d\b)/g;return e.prototype={add:function(t){var a=this.s,l=this.p;return e((this.intValue+s(t,a))/(a.fromCents?1:l),a)},subtract:function(t){var a=this.s,l=this.p;return e((this.intValue-s(t,a))/(a.fromCents?1:l),a)},multiply:function(s){var t=this.s;return e(this.intValue*s/(t.fromCents?1:Math.pow(10,t.precision)),t)},divide:function(t){var a=this.s;return e(this.intValue/s(t,a,!1),a)},distribute:function(s){var t=this.intValue,a=this.p,l=this.s,r=[],i=Math[0<=t?"floor":"ceil"](t/s),n=Math.abs(t-i*s);for(a=l.fromCents?1:a;0!==s;s--){var c=e(i/a,l);0<n--&&(c=c[0<=t?"add":"subtract"](1/a)),r.push(c)}return r},dollars:function(){return~~this.value},cents:function(){return~~(this.intValue%this.p)},format:function(e){var s=this.s;return"function"==typeof e?e(this,s):s.format(this,Object.assign({},s,e))},toString:function(){var e=this.s,s=e.increment;return(Math.round(this.intValue/this.p/s)*s).toFixed(e.precision)},toJSON:function(){return this.value}},e},e.exports=s()},2423:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},959:(e,s,t)=>{"use strict";t.d(s,{C5:()=>i,Fc:()=>r,XX:()=>n,p_:()=>c,qX:()=>l,tp:()=>o});var a=t(5155);let l=(0,a.jsx)("i",{className:"fa-regular fa-bookmark"}),r=(0,a.jsx)("i",{className:"fa-solid fa-bookmark"}),i=(0,a.jsx)("i",{className:"fa-solid fa-location-dot"}),n=(0,a.jsx)("i",{className:"fa-solid fa-grip"}),c=(0,a.jsx)("i",{className:"fa-solid fa-list-ul"}),o=(0,a.jsx)("i",{className:"fa-solid fa-table-columns"})},3114:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(1361),l=t.n(a);let r=(e,s)=>l()(e,{symbol:"GBP"===s?"DH ":"$",precision:2,separator:",",decimal:"."}).format()},6847:(e,s,t)=>{"use strict";t.d(s,{H:()=>r});var a=t(3691),l=t.n(a);let r=e=>l()(e).fromNow()},434:(e,s,t)=>{"use strict";t.d(s,{b:()=>o});var a=t(2115),l=t(3360),r=t(5155),i="horizontal",n=["horizontal","vertical"],c=a.forwardRef((e,s)=>{let{decorative:t,orientation:a=i,...c}=e,o=n.includes(a)?a:i;return(0,r.jsx)(l.sG.div,{"data-orientation":o,...t?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...c,ref:s})});c.displayName="Separator";var o=c}},e=>{var s=s=>e(e.s=s);e.O(0,[586,238,94,37,957,441,517,358],()=>s(3093)),_N_E=e.O()}]);